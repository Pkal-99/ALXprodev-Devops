#!/bin/bash
POKEAPI_BASE_URL="https://pokeapi.co/api/v2/pokemon/"

# Directory to save the results
OUTPUT_DIR="pokemon_data"
mkdir -p "$OUTPUT_DIR" # Create the directory if it doesn't exist

fetch_pokemon_data() {
    POKEMON_IDENTIFIER="$1"
    ERROR_FILE="errors.txt"
    if [ -z "$POKEMON_IDENTIFIER" ]; then
        echo "Error: No PokÃ©mon identifier provided to fetch_pokemon_data."
        return 1
    fi

    API_URL="${POKEAPI_BASE_URL}/pokemon/${POKEMON_IDENTIFIER}/"
    OUTPUT_FILE="${OUTPUT_DIR}/data.json"

    echo "Fetching data for ${POKEMON_IDENTIFIER}..."
    curl -s "$API_URL" -o "$OUTPUT_FILE"

    if [ $? -eq 0 ]; then
        echo "Successfully saved data for ${POKEMON_IDENTIFIER} to ${OUTPUT_FILE}"
    else
        echo "Failed to fetch data for ${POKEMON_IDENTIFIER}."
        echo "HTTP Status: $response" >> "$ERROR_FILE"
    fi
    }

fetch_pokemon_data "pikachu"