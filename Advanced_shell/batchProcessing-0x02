#!/bin/bash

# Directory to store Pokémon data
DATA_DIR="pokemon_data"

# Create the directory if it doesn't exist
mkdir -p "$DATA_DIR"

# List of Pokémon to fetch data for
POKEMON_LIST=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")

# Loop through the list of Pokémon
for pokemon in "${POKEMON_LIST[@]}"; do
    echo "Fetching data for $pokemon..."
    
    # Fetch Pokémon data from the API
    response=$(curl -s "https://pokeapi.co/api/v2/pokemon/$pokemon")

    # Check if the request was successful
    if [[ $? -ne 0 ]]; then
        echo "Error fetching data for $pokemon."
        continue
    fi

    # Save data to a file named after the Pokémon
    echo "$response" > "$DATA_DIR/$pokemon.json"
    
    echo "Saved data to $DATA_DIR/$pokemon.json ✅"

    # Delay to avoid rate-limiting issues
    sleep 1
done